<html>
    <head>
        <title>Cryptography</title>
        <link rel="stylesheet" href="homecss.css">
        <link rel="stylesheet" href="pvcss.css">
    </head>
    <body onload="table()">
        <a href="index.html"><h3>Cryptography</h3></a>
        <h2>Vignere Cipher Without Formula</h2>
        <table id="tb">
            <tr>
                <td>PV</td>
                <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
            </tr>
            <tr>
                <td></td>
                <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
            </tr>
            <tr>
                <td></td>
                <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
            </tr>
            <tr>
                <td></td>
                <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
            </tr>
            <tr>
                <td></td>
                <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
            </tr>
            <tr>
                <td></td>
                <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
            </tr>
            <tr>
                <td></td>
                <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
            </tr>
            <tr>
                <td></td>
                <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
            </tr>
            <tr>
                <td></td>
                <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
            </tr>
            <tr>
                <td></td>
                <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
            </tr>
            <tr>
                <td></td>
                <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
            </tr>
            <tr>
                <td></td>
                <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
            </tr>
            <tr>
                <td></td>
                <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
            </tr>
            <tr>
                <td></td>
                <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
            </tr>
            <tr>
                <td></td>
                <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
            </tr>
            <tr>
                <td></td>
                <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
            </tr>
            <tr>
                <td></td>
                <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
            </tr>
            <tr>
                <td></td>
                <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
            </tr>
            <tr>
                <td></td>
                <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
            </tr>
            <tr>
                <td></td>
                <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
            </tr>
            <tr>
                <td></td>
                <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
            </tr>
            <tr>
                <td></td>
                <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
            </tr>
            <tr>
                <td></td>
                <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
            </tr>
            <tr>
                <td></td>
                <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
            </tr>
            <tr>
                <td></td>
                <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
            </tr>
            <tr>
                <td></td>
                <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
            </tr>
            <tr>
                <td></td>
                <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
            </tr>
        </table>
        <div class= "enc">
        <label>Plain Text</label><input type="text" id="pt" onkeyup="upperit(this)"><br>
        <label>Key</label><input type="text" id="ke" onkeyup="upperit(this)"><br>
        <button onclick=encrypt()>Encrypt</button><br><br>
        <label>Cipher Text</label><input type="text" id="gct"><br>            
        </div>
        <div class="dec">
        <label>Cipher Text</label><input type="text" id="ct" onkeyup="upperit(this)"><br>
        <label>Key</label><input type="text" id="kd" onkeyup="upperit(this)"><br>
        <button onclick="decrypt()">Decrypt</button><br><br>
        <label>Plain Text</label><input type="text" id="gpt"><br>
        </div>
        <script>    
            var t=document.getElementById("tb");
            function upperit(arg){
                document.getElementById(arg.getAttribute('id')).value = document.getElementById(arg.getAttribute('id')).value.toUpperCase();
            }
            function colorit(){
                for(var i=0;i<27;i++){
                    for(var j=0;j<27;j++){
                        t.rows[i].cells[j].style.backgroundColor="#333";
                    }
                }
            }
            function encrypt(){
                var k=document.getElementById("ke").value;
                var p=document.getElementById("pt").value;
                var i=0,i1=0,j=-1;
                k=generate(p,k)
                document.getElementById("ke").value=k;
                /*
                for(i=1;i<=26;i++){
                    s=s.concat(document.getElementById("tb").rows[0].cells[i].innerHTML);
                }
                for(i=0;i<p.length;i++){
                    l=l.concat(t.rows[s.indexOf(k[i])+1].cells[s.indexOf(p[i])+1].innerHTML);
                }*/
                var y=setInterval(function(){
                colorit();
                if(j==p.length-1){
                    clearInterval(y);
                }else{                    
                var z=setInterval(function(){
                    t.rows[0].cells[i].style.backgroundColor="#595959";
                    if(t.rows[0].cells[i].innerHTML==p.charAt(j)){
                        t.rows[0].cells[i].style.backgroundColor="#bcbcbc";
                        clearInterval(z);
                        var z1=setInterval(function(){
                            t.rows[i1].cells[0].style.backgroundColor="#595959";
                            if(t.rows[i1].cells[0].innerHTML==k.charAt(j)){
                                t.rows[i1].cells[0].style.backgroundColor="#bcbcbc";
                                clearInterval(z1);
                                mark(i,i1);
                            }
                            i1++;
                        },150);
                    }
                    i++;
                },150); 
                j++;
                i=1;
                i1=1;
            }
            },8000);
            }
            function mark(i,i1){
                for(var l=1;l<i1;l++){
                    t.rows[l].cells[i-1].style.backgroundColor="#595959";
                }
                for(var l=1;l<i;l++){
                    t.rows[i1].cells[l].style.backgroundColor="#595959";
                }
                t.rows[i1].cells[i-1].style.backgroundColor="#bcbcbc";
                document.getElementById("gct").value+=t.rows[i1].cells[i-1].innerHTML;
            }
            function mark1(i,i1){
                for(var l=1;l<i;l++){
                    t.rows[l].cells[i1].style.backgroundColor="#595959";
                }
                for(var l=1;l<i1;l++){
                    t.rows[0].cells[l].style.backgroundColor="#595959";
                }
                t.rows[0].cells[l].style.backgroundColor="#bcbcbc";
                document.getElementById("gpt").value+=t.rows[0].cells[l].innerHTML;
            }
            function decrypt(){
                var i=0,i1=0,j=-1;
                var s="";
                for(i=1;i<=26;i++){
                    s=s.concat(document.getElementById("tb").rows[0].cells[i].innerHTML);
                }
                var c=document.getElementById("ct").value;
                var k=document.getElementById("kd").value;
                k=generate(c,k);
                document.getElementById("kd").value=k;
                var y=setInterval(function(){
                colorit();
                if(j==c.length-1){
                    clearInterval(y);
                }else{  
                    var z=setInterval(function(){
                        t.rows[i].cells[0].style.backgroundColor="#595959";
                        if(t.rows[i].cells[0].innerHTML==k.charAt(j)){
                            t.rows[i].cells[0].style.backgroundColor="#bcbcbc";
                            clearInterval(z);
                            var z1=setInterval(function(){
                                t.rows[i-1].cells[i1].style.backgroundColor="#595959";
                                if(t.rows[i-1].cells[i1].innerHTML==c.charAt(j)){
                                    t.rows[i-1].cells[i1].style.backgroundColor="#bcbcbc";
                                    clearInterval(z1);
                                    mark1(i,i1);
                                }
                                i1++;
                            },150);
                        }
                        i++;
                    },150);
                    j++;
                    i=1;
                    i1=1;
                }
                },8000);
            }
                
                
                /*var l="";
                for(i=0;i<c.length;i++){
                    lp:
                    for(j=1;j<27;j++){
                        if(k[i]==t.rows[j].cells[0].innerHTML){
                            for(m=1;m<27;m++){
                                if(c[i]==t.rows[j].cells[m].innerHTML){
                                    l=l.concat(t.rows[0].cells[m].innerHTML)
                                    break lp;
                                }
                            }
                        }
                    }
                }
                document.getElementById("gpt").value=l;*/         
            function generate(p,k){
                while(k.length<p.length){
                    k=k.concat(k);
                }
                k=k.slice(0,p.length);
                return k;
            }
            function table(){
                var i=0,j=0;
                for(i=1;i<=26;i++)  t.rows[0].cells[i].innerHTML=String.fromCharCode(i+64);
                for(i=1;i<=26;i++){
                    t.rows[i].cells[0].innerHTML=String.fromCharCode(i+64);
                    for(j=1;j<=26;j++){
                        var r=i+j+63<=90?i+j+63:i+j+63-26;
                        t.rows[i].cells[j].innerHTML=String.fromCharCode(r);
                    }
                }
            }
        </script>
    </body>
</html>
<html>
    <head>
        <title>Cryptography</title>
        <link rel="stylesheet" href="homecss.css">
        <link rel="stylesheet" href="hcss.css">
    </head>
    <body>
        <a href="index.html"><h3>Cryptography</h3></a>
        <h2>Hill Cipher</h2>
        <div class="k">
        <label>Key</label><input type="text" id="k" onkeyup="upperit(this)"><br>
            <button onclick=generate()>Generate Key</button>
        </div>
        <div class= "enc">
        <label>Plain Text</label><input type="text" id="pt" onkeyup="upperit(this)"><br>
        <button onclick=encrypt()>Encrypt</button><br><br>
        <label>Cipher Text</label><input type="text" id="gct"><br>
        </div>
        <div class="dec">
        <label>Cipher Text</label><input type="text" id="ct" onkeyup="upperit(this)"><br>
        <button onclick="decrypt()">Decrypt</button><br><br>
        <label>Plain Text</label><input type="text" id="gpt"><br>
        </div>
        <table id="tb">
            <tr><td></td><td></td><td></td><td></td><td></td></tr>
            <tr><td></td><td></td><td></td><td></td><td></td></tr>
            <tr><td></td><td></td><td></td><td></td><td></td></tr>
            <tr><td></td><td></td><td></td><td></td><td></td></tr>
            <tr><td></td><td></td><td></td><td></td><td></td></tr>
        </table>
        <h1>X</h1>
        <table id="tbe">
            <tr><td></td><td></td><td></td><td></td><td></td></tr>
            <tr><td></td><td></td><td></td><td></td><td></td></tr>
            <tr><td></td><td></td><td></td><td></td><td></td></tr>
            <tr><td></td><td></td><td></td><td></td><td></td></tr>
            <tr><td></td><td></td><td></td><td></td><td></td></tr>
        </table>
        <table id="tbd">
            <tr><td></td><td></td><td></td><td></td><td></td></tr>
            <tr><td></td><td></td><td></td><td></td><td></td></tr>
            <tr><td></td><td></td><td></td><td></td><td></td></tr>
            <tr><td></td><td></td><td></td><td></td><td></td></tr>
            <tr><td></td><td></td><td></td><td></td><td></td></tr>
        </table>
    </body>
    <script>
        var t=document.getElementById("tb");
        var te=document.getElementById("tbe");
        var td=document.getElementById("tbd");
        function upperit(arg){
            document.getElementById(arg.getAttribute('id')).value = document.getElementById(arg.getAttribute('id')).value.toUpperCase();
        }
        function generate(){
            var k=document.getElementById("k").value;
            var i=0,j=0,c=0;
            if(k.length==4){
                t.rows[0].cells[0].style.borderLeftColor="white";
                t.rows[0].cells[0].style.borderTopColor="white";
                t.rows[1].cells[0].style.borderLeftColor="white";
                t.rows[2].cells[0].style.borderLeftColor="white";
                t.rows[2].cells[0].style.borderBottomColor="white";
                
                t.rows[0].cells[2].style.borderRightColor="white";
                t.rows[0].cells[2].style.borderTopColor="white";
                t.rows[1].cells[2].style.borderRightColor="white";
                t.rows[2].cells[2].style.borderRightColor="white";
                t.rows[2].cells[2].style.borderBottomColor="white";
                
                te.rows[0].cells[0].style.borderLeftColor="white";
                te.rows[0].cells[0].style.borderTopColor="white";
                te.rows[1].cells[0].style.borderLeftColor="white";
                te.rows[2].cells[0].style.borderLeftColor="white";
                te.rows[2].cells[0].style.borderBottomColor="white";
                
                te.rows[0].cells[2].style.borderRightColor="white";
                te.rows[0].cells[2].style.borderTopColor="white";
                te.rows[1].cells[2].style.borderRightColor="white";
                te.rows[2].cells[2].style.borderRightColor="white";
                te.rows[2].cells[2].style.borderBottomColor="white";
                
                td.rows[0].cells[0].style.borderLeftColor="white";
                td.rows[0].cells[0].style.borderTopColor="white";
                td.rows[1].cells[0].style.borderLeftColor="white";
                td.rows[2].cells[0].style.borderLeftColor="white";
                td.rows[2].cells[0].style.borderBottomColor="white";
                
                td.rows[0].cells[2].style.borderRightColor="white";
                td.rows[0].cells[2].style.borderTopColor="white";
                td.rows[1].cells[2].style.borderRightColor="white";
                td.rows[2].cells[2].style.borderRightColor="white";
                td.rows[2].cells[2].style.borderBottomColor="white";
            }
            else{
                t.rows[0].cells[0].style.borderLeftColor="white";
                t.rows[0].cells[0].style.borderTopColor="white";
                t.rows[1].cells[0].style.borderLeftColor="white";
                t.rows[2].cells[0].style.borderLeftColor="white";
                t.rows[3].cells[0].style.borderLeftColor="white";
                t.rows[4].cells[0].style.borderLeftColor="white";
                t.rows[4].cells[0].style.borderBottomColor="white";
                
                t.rows[0].cells[4].style.borderRightColor="white";
                t.rows[0].cells[4].style.borderTopColor="white";
                t.rows[1].cells[4].style.borderRightColor="white";
                t.rows[2].cells[4].style.borderRightColor="white"; 
                t.rows[3].cells[4].style.borderRightColor="white"; 
                t.rows[4].cells[4].style.borderRightColor="white";               
                t.rows[4].cells[4].style.borderBottomColor="white"; 
                
                te.rows[0].cells[0].style.borderLeftColor="white";
                te.rows[0].cells[0].style.borderTopColor="white";
                te.rows[1].cells[0].style.borderLeftColor="white";
                te.rows[2].cells[0].style.borderLeftColor="white";
                te.rows[3].cells[0].style.borderLeftColor="white";
                te.rows[4].cells[0].style.borderLeftColor="white";
                te.rows[4].cells[0].style.borderBottomColor="white";
                
                te.rows[0].cells[4].style.borderRightColor="white";
                te.rows[0].cells[4].style.borderTopColor="white";
                te.rows[1].cells[4].style.borderRightColor="white";
                te.rows[2].cells[4].style.borderRightColor="white"; 
                te.rows[3].cells[4].style.borderRightColor="white"; 
                te.rows[4].cells[4].style.borderRightColor="white";               
                te.rows[4].cells[4].style.borderBottomColor="white"; 
                
                td.rows[0].cells[0].style.borderLeftColor="white";
                td.rows[0].cells[0].style.borderTopColor="white";
                td.rows[1].cells[0].style.borderLeftColor="white";
                td.rows[2].cells[0].style.borderLeftColor="white";
                td.rows[3].cells[0].style.borderLeftColor="white";
                td.rows[4].cells[0].style.borderLeftColor="white";
                td.rows[4].cells[0].style.borderBottomColor="white";
                
                td.rows[0].cells[4].style.borderRightColor="white";
                td.rows[0].cells[4].style.borderTopColor="white";
                td.rows[1].cells[4].style.borderRightColor="white";
                td.rows[2].cells[4].style.borderRightColor="white"; 
                td.rows[3].cells[4].style.borderRightColor="white"; 
                td.rows[4].cells[4].style.borderRightColor="white";               
                td.rows[4].cells[4].style.borderBottomColor="white"; 
            }
            for(i=0;i<Math.sqrt(k.length)*2;i+=2){
                for(j=0;j<Math.sqrt(k.length)*2;j+=2){
                    t.rows[i].cells[j].innerHTML=(k[c].charCodeAt(0)-65)%26;
                    c++;
                }
            }
        }
        function encrypt(){
            var p=document.getElementById("pt").value;
            if (p.length%2){
                p=p.concat("X");
                document.getElementById("pt").value=p;
            }
            for(i=0;i<Math.sqrt(pt.length)*2;i+=2){
                for(j=0;j<Math.sqrt(k.length)*2;j+=2){
                    t.rows[i].cells[j].innerHTML=(k[c].charCodeAt(0)-65)%26;
                    c++;
                }
            }            
        }
    </script>
</html>